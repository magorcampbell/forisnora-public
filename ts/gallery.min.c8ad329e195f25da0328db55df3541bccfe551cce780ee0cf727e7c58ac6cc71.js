(()=>{var e=class{lightbox;lightboxImage;prevButton;nextButton;galleryImages=[];currentImageIndex=0;constructor(){this.lightbox=document.querySelector(".lightbox"),this.lightboxImage=document.querySelector(".lightbox img"),this.prevButton=this.lightbox.querySelector(".prev-button"),this.nextButton=this.lightbox.querySelector(".next-button"),document.querySelectorAll(".gallery-image").forEach(e=>{const t=e;this.galleryImages.push(t.dataset.full||t.src)}),this.init()}init(){document.querySelectorAll(".gallery-image").forEach(e=>{e.addEventListener("click",e=>{const t=e.target,n=t.dataset.full||t.src;this.openLightbox(t.dataset.full||t.src)})}),this.prevButton.addEventListener("click",()=>this.showPreviousImage()),this.nextButton.addEventListener("click",()=>this.showNextImage()),this.lightbox.addEventListener("click",e=>{e.target===this.lightbox&&this.closeLightbox()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&this.closeLightbox(),e.key==="ArrowLeft"&&this.showPreviousImage(),e.key==="ArrowRight"&&this.showNextImage()}),window.addEventListener("load",()=>{const t=new URLSearchParams(window.location.search),e=t.get("image");e&&(this.currentImageIndex=this.galleryImages.indexOf(decodeURIComponent(e)),this.openLightbox(decodeURIComponent(e)))})}showPreviousImage(){if(!this.lightbox.classList.contains("active"))return;this.currentImageIndex=(this.currentImageIndex-1+this.galleryImages.length)%this.galleryImages.length,this.openLightbox(this.galleryImages[this.currentImageIndex])}showNextImage(){if(!this.lightbox.classList.contains("active"))return;this.currentImageIndex=(this.currentImageIndex+1)%this.galleryImages.length,this.openLightbox(this.galleryImages[this.currentImageIndex])}openLightbox(e){this.lightboxImage.src=e,this.lightbox.classList.add("active");const t=new URL(window.location.href);t.searchParams.set("image",e),window.history.pushState({},"",t)}closeLightbox(){this.lightbox.classList.remove("active");const e=new URL(window.location.href);e.searchParams.delete("image"),window.history.pushState({},"",e)}};document.addEventListener("DOMContentLoaded",()=>{new e})})()